(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}for(var t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots"),o=0;o<t.length;o++){var r=document.createElement("div");r.className="dot",n.appendChild(r)}var a,c,l,u,i,s,v,d,f,m,p,y,h,g,E,S,q;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds"),r=document.querySelector("#timer-day"),a=setInterval(c,1e3);function c(){var c=function(){var t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60)%24,minutes:o,seconds:n,day:Math.floor(t/60/60/24)}}(),l=("0"+c.seconds).slice(-2),u=("0"+c.minutes).slice(-2),i=("0"+c.hours).slice(-2),s=("0"+c.day).slice(-2);t.textContent=i,n.textContent=u,o.textContent=l,r.textContent=s,c.timeRemaining<0&&(r.textContent="00",t.textContent="00",n.textContent="00",o.textContent="00",clearInterval(a))}c()})("30 september 2021"),S=document.querySelector("body"),q=document.querySelector("menu"),S.addEventListener("click",(function(e){var t=e.target;t.closest(".menu")||t.closest(".close-btn")||t.closest("menu>ul>li>a")?q.classList.toggle("active-menu"):(t=t.closest("menu"))||q.classList.remove("active-menu")})),p=document.querySelector(".popup"),y=document.querySelectorAll(".popup-btn"),h=-100,g=document.querySelector(".popup-content"),E=function(){++h<150&&window.screen.width>768?g.style.top=h+"px":clearInterval(m)},m=setInterval(E,15),y.forEach((function(e){e.addEventListener("click",(function(){h=-100,p.style.display="block",setInterval(E,15)}))})),p.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?p.style.display="none":(t=t.closest(".popup-content"))||(p.style.display="none",clearInterval(m))})),v=document.querySelector(".service-header"),d=v.querySelectorAll(".service-header-tab"),f=document.querySelectorAll(".service-tab"),v.addEventListener("click",(function(e){var t=e.target;console.log(t),t=t.closest(".service-header-tab"),console.log(t),t&&d.forEach((function(e,n){e===t&&function(e){for(var t=0;t<f.length;t++)e===t?(f[t].classList.remove("d-none"),d[t].classList.add("active")):(f[t].classList.add("d-none"),d[t].classList.remove("active"))}(n)}))})),function(){var e,n=document.querySelectorAll(".dot"),o=document.querySelector(".portfolio-content"),r=0,a=function(e,t,n){e[t].classList.remove(n)},c=function(e,t,n){e[t].classList.add(n)},l=function(){a(t,r,"portfolio-item-active"),a(n,r,"dot-active"),++r>=t.length&&(r=0),c(t,r,"portfolio-item-active"),c(n,r,"dot-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)};o.addEventListener("click",(function(e){e.preventDefault();var o=e.target;o.matches(".portfolio-btn, .dot")&&(a(t,r,"portfolio-item-active"),a(n,r,"dot-active"),o.matches("#arrow-right")?r++:o.matches("#arrow-left")?r--:o.matches(".dot")&&n.forEach((function(e,t){e===o&&(r=t)})),r>=t.length&&(r=0),r<0&&(r=t.length-1),c(t,r,"portfolio-item-active"),c(n,r,"dot-active"))})),o.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),o.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()})),u(1500)}(),document.querySelectorAll(".command__photo").forEach((function(e){var t=e.src;e.addEventListener("mouseover",(function(e){e.target,e.target.src=e.target.dataset.img})),e.addEventListener("mouseout",(function(e){e.target.src=t}))})),a=document.querySelectorAll(".calc-block input"),c=document.querySelectorAll("[name = user_name]"),l=document.getElementById("form2-message"),u=document.querySelectorAll("[type = email]"),i=document.querySelectorAll("[type = tel]"),s=document.querySelectorAll("input"),a.forEach((function(e){e.addEventListener("input",(function(){var t=e.value;e.value=t.replace(/\D/g,"")}))})),c.forEach((function(e){e.addEventListener("input",(function(){var t=e.value;e.value=t.match(/[А-ЯЁа-яё\s-]+/gi)})),e.addEventListener("blur",(function(){var t=e.value;if(/^[\s-]/.test(t)||/[\s-]$/.test(t)){e.value=t.replace(/^[\s-]/g,"").trim();var n=e.value;e.value=n.replace(/[\s-]$/g,"").trim()}var o=e.value.toLowerCase();o&&(e.value=o[0].toUpperCase()+o.slice(1))}))})),l.addEventListener("input",(function(){var e=l.value;l.value=e.match(/[А-ЯЁа-яё\s-,:;\.\?!]+/gi)})),u.forEach((function(e){e.addEventListener("input",(function(){var t=e.value;e.value=t.match(/[A-Za-z@_!~'\.\*]+/gi)})),e.addEventListener("blur",(function(){var t=e.value.match(/\w+@\w+\.\w{2,3}/g);t?e.value=t:alert("Вы ввели не корректный email")}))})),i.forEach((function(e){e.addEventListener("input",(function(){var t=e.value;e.value=t.match(/[0-9-\(\)\+]+/g)})),e.addEventListener("blur",(function(){var t=e.value.match(/\+?[78]([-()]*\d){10}/g);t?e.value=t:alert("Вы ввели не корректный телефон")}))})),s.forEach((function(e){e.addEventListener("blur",(function(){var t=e.value;if(/^[\s-]/.test(t)||/[\s-]$/.test(t)){e.value=t.replace(/^[\s-]/g,"").trim();var n=e.value;e.value=n.replace(/[\s-]$/g,"").trim()}e.value=t.replace(/\s+/g," ").trim();var o=e.value;e.value=o.replace(/-+/g,"-").trim()}),!0)})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total"),l=function(){var t=0,l=1,u=1,i=n.options[n.selectedIndex].value,s=+o.value;a.value>1&&(l+=(a.value-1)/10),r.value&&r.value<5?u*=2:r.value&&r.value<10&&(u*=1.5),i&&s&&(console.log(e*i*s),t=e*i*s*l*u),c.textContent=t};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&l()}))}(100),function(){var t=document.querySelectorAll("form"),n=document.createElement("div");n.style.cssText="font-size: 2rem;",n.style.color="#ffffff",t.forEach((function(t){t.addEventListener("submit",(function(r){r.preventDefault(),t.appendChild(n),n.textContent="Загрузка...";var a,c=new FormData(t),l={},u=function(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,u=!1;return{s:function(){o=o.call(t)},n:function(){var e=o.next();return l=e.done,e},e:function(e){u=!0,c=e},f:function(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}(c.entries());try{for(u.s();!(a=u.n()).done;){var i=a.value;l[i[0]]=i[1]}}catch(e){u.e(e)}finally{u.f()}o(l).then((function(e){if(200!==e.status)throw new Error("status network not 200");n.textContent="Спасибо мы скоро с вами свяжемся!",setTimeout((function(){n.textContent=""}),3e3)})).catch((function(){n.textContent="Что то пошло не так...",setTimeout((function(){n.textContent=""}),3e3)})),o(l),document.querySelectorAll("form input").forEach((function(e){""!==l&&(e.value="")}))}))}));var o=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();